function _defineProperties(n,t){for(var e=0;e<t.length;e++){var l=t[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"C6+7":function(n,t,e){"use strict";e.r(t);var l=e("LY6o"),o=function n(){_classCallCheck(this,n)},i=e("pMnS"),r=e("MKJQ"),a=e("2jpv"),u=e("ysn3"),c=e("3JjO"),s=e("D2kv"),p=e("LoWC"),f=function(){function n(t,e,l){_classCallCheck(this,n),this.app=t,this.http=e,this.alertController=l,this.company={company_id:this.app.companyId,tinyapp_id:this.app.tinyappId}}return _createClass(n,[{key:"getCategory",value:function(){var n=this;return new Promise((function(t,e){n.http.get("https://www.dinghuo365.vip/index.php/MallAPI/Namecard/getPosterCategory",{params:n.getHttpParams()}).pipe(Object(p.a)(1)).toPromise().then((function(l){1===l.status?t(l.data):(n.alert(l.info),e(l.info))}))}))}},{key:"getPosters",value:function(n){var t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(l,o){t.http.get("https://www.dinghuo365.vip/index.php/MallAPI/Namecard/getDailyPoster",{params:t.getHttpParams({cate_name:n,p:e})}).pipe(Object(p.a)(1)).toPromise().then((function(n){1===n.status?l(n.data):(t.alert(n.info),o(n.info))}))}))}},{key:"generaterPoster",value:function(n){var t=this;return new Promise((function(e,l){t.http.get("https://www.dinghuo365.vip/index.php/MallAPI/Namecard/getPosterPhotoShow",{params:t.getHttpParams(n)}).pipe(Object(p.a)(1)).toPromise().then((function(n){1===n.status?e(n.data):(t.alert(n.info),l(n.info))}))}))}},{key:"getHttpParams",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new c.g({fromObject:Object.assign({},n,this.company)})}},{key:"alert",value:function(n){var t=this;return new Promise((function(e){t.alertController.create({header:n,buttons:[{text:"\u786e\u8ba4",role:"cancel"}]}).then((function(n){n.present(),n.onDidDismiss().then((function(){e()}))}))}))}}]),n}(),g=e("/WN3"),b=e("WceA"),d=e("CX4n"),h=e("b1hG"),m=function(){function n(t,e,l,o,i){_classCallCheck(this,n),this.posterService=t,this.loadingController=e,this.topComponentService=l,this.toastController=o,this.authenticationService=i,this.category={active:0,data:[]},this.posters=new Map,this.data=[],this.currentPage=1,this.scrollToTopFlag=!1}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"ionViewDidEnter",value:function(){return g.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e,l=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadingController.create();case 2:return(t=n.sent).present(),n.next=6,this.posterService.getCategory().catch((function(n){console.log(n)})).finally((function(){t.dismiss()}));case 6:e=n.sent,this.category.data=e,t.present(),this.posterService.getPosters(this.category.data[0].title).then((function(n){l.posters.set(0,n||[]),l.data=n||[],l.ionInfiniteScroll.disabled=n.length<10})).catch((function(){})).finally((function(){t.dismiss()}));case 8:case"end":return n.stop()}}),n,this)})))}},{key:"changeCategory",value:function(n){return g.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,l=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.category.active=n,!this.posters.get(n)){t.next=2;break}return t.abrupt("return",void(this.data=this.posters.get(n)));case 2:return t.next=4,this.loadingController.create();case 4:(e=t.sent).present(),this.posterService.getPosters(this.category.data[n].title).then((function(t){l.data=t||[],l.posters.set(n,t||[]),l.ionInfiniteScroll.disabled=t.length<10,l.ionContent.scrollToTop(0)})).catch((function(){})).finally((function(){e.dismiss()}));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"generaterPoster",value:function(n,t){return g.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function e(){var l,o,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=this.hideInput.nativeElement).value=t,l.select(),document.execCommand("Copy"),e.next=4,this.toastController.create({message:"\u6587\u5b57\u590d\u5236\u6210\u529f\uff0c\u6b63\u5728\u751f\u6210\u5206\u4eab\u56fe...",duration:1500,color:"dark",position:"middle",cssClass:"toast-middle"});case 4:return(o=e.sent).present(),e.next=8,o.onWillDismiss();case 8:return e.next=10,this.loadingController.create();case 10:return(i=e.sent).present(),e.next=14,this.posterService.generaterPoster({id:n,page_name:"page/index/index",auth_type:1,token:this.authenticationService.token||""}).catch((function(){})).finally((function(){i.dismiss()}));case 14:r=e.sent,this.viewPoster(r);case 16:case"end":return e.stop()}}),e,this)})))}},{key:"loadMore",value:function(){return g.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.currentPage+=1,this.posterService.getPosters(this.category.data[this.category.active].title,this.currentPage).then((function(n){t.data=t.data.concat(n),t.posters.set(t.category.active,t.data),t.ionInfiniteScroll.disabled=n.length<10})).catch((function(n){console.log(n)})).finally((function(){return t.ionInfiniteScroll.complete()}));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"viewPoster",value:function(n){this.topComponentService.load(h.a).then((function(t){t.present(n)}))}}]),n}(),x=l.ob({encapsulation:0,styles:[['ion-content[_ngcontent-%COMP%]{--padding-start:110px}ion-content[_ngcontent-%COMP%]   .category-left[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:110px;overflow:auto;background:#f3f5fe;z-index:10}ion-content[_ngcontent-%COMP%]   .category-left[_ngcontent-%COMP%]   .category-left_item[_ngcontent-%COMP%]{display:block;display:flex;font-size:14px;padding:7px 0;height:50px;line-height:25px;align-items:center;justify-content:center;box-sizing:content-box;position:relative;transition:all .3s}ion-content[_ngcontent-%COMP%]   .category-left[_ngcontent-%COMP%]   .category-left_item[_ngcontent-%COMP%]::after{content:"";position:absolute;width:4px;top:15px;bottom:15px;left:-4px;transition:left .3s;background:var(--ion-color-primary)}ion-content[_ngcontent-%COMP%]   .category-left[_ngcontent-%COMP%]   .category-left_item.active[_ngcontent-%COMP%]{background:#fff;font-weight:700;color:var(--ion-color-primary)}ion-content[_ngcontent-%COMP%]   .category-left[_ngcontent-%COMP%]   .category-left_item.active[_ngcontent-%COMP%]::after{left:0}ion-content[_ngcontent-%COMP%]   .poster-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #efefef;padding:0 12px}ion-content[_ngcontent-%COMP%]   .poster-item[_ngcontent-%COMP%]   .poster-item_title[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#545454;line-height:24px;padding:12px 0}ion-content[_ngcontent-%COMP%]   .poster-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65%;border-radius:3px;-webkit-user-select:none;-moz-user-select:none;user-select:none}ion-content[_ngcontent-%COMP%]   .poster-item[_ngcontent-%COMP%]   .poster-item_handler[_ngcontent-%COMP%]{line-height:28px;font-size:15px;padding:15px 0}ion-content[_ngcontent-%COMP%]   .poster-item[_ngcontent-%COMP%]   .poster-item_handler[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{float:right;--border-radius:5px;height:28px;margin:0;font-size:14px;--padding-start:8px}ion-content[_ngcontent-%COMP%]   .poster-item[_ngcontent-%COMP%]   .poster-item_handler[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:5px}ion-content[_ngcontent-%COMP%]   ion-fab[_ngcontent-%COMP%]{transform:translateY(100px);transition:transform .3s}ion-content[_ngcontent-%COMP%]   ion-fab.active[_ngcontent-%COMP%]{transform:translateY(0)}input#hide-input[_ngcontent-%COMP%]{position:fixed;z-index:-1;opacity:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}']],data:{}});function v(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,5,"ion-text",[["class","category-left_item"],["color","medium"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.changeCategory(n.context.index)&&l),l}),r.Pb,r.S)),l.Gb(512,null,a.r,a.s,[l.q,l.r,l.k,l.B]),l.pb(2,278528,null,0,a.h,[a.r],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Eb(3,{active:0}),l.pb(4,49152,null,0,u.ub,[l.h,l.k,l.x],{color:[0,"color"]},null),(n()(),l.Jb(5,0,[" "," "]))],(function(n,t){var e=n(t,3,0,t.component.category.active===t.context.index);n(t,2,0,"category-left_item",e),n(t,4,0,"medium")}),(function(n,t){n(t,5,0,t.context.$implicit.title)}))}function C(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,5,"div",[["class","category-left"]],null,null,null,null,null)),l.Gb(512,null,a.t,a.u,[l.k,l.r,l.B]),l.pb(2,278528,null,0,a.m,[a.t],{ngStyle:[0,"ngStyle"]},null),l.Eb(3,{top:0}),(n()(),l.fb(16777216,null,null,1,null,v)),l.pb(5,278528,null,0,a.i,[l.M,l.J,l.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,t){var e=t.component,l=n(t,3,0,e.ionHeader.el.offsetHeight+"px");n(t,2,0,l),n(t,5,0,e.category.data)}),null)}function P(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,12,"div",[["class","poster-item"]],null,null,null,null,null)),(n()(),l.qb(1,0,null,null,1,"h6",[["class","poster-item_title"]],null,null,null,null,null)),(n()(),l.Jb(2,null,["",""])),(n()(),l.qb(3,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),l.qb(4,0,null,null,8,"div",[["class","poster-item_handler"]],null,null,null,null,null)),(n()(),l.qb(5,0,null,null,2,"ion-text",[["color","medium"]],null,null,null,r.Pb,r.S)),l.pb(6,49152,null,0,u.ub,[l.h,l.k,l.x],{color:[0,"color"]},null),(n()(),l.Jb(7,0,["",""])),(n()(),l.qb(8,0,null,null,4,"ion-button",[["color","primary"],["mode","ios"],["size","default"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.generaterPoster(n.context.$implicit.id,n.context.$implicit.title)&&l),l}),r.bb,r.e)),l.pb(9,49152,null,0,u.k,[l.h,l.k,l.x],{color:[0,"color"],mode:[1,"mode"],size:[2,"size"]},null),(n()(),l.qb(10,0,null,0,1,"ion-icon",[["name","share-social"],["size","small"]],null,null,null,r.ob,r.r)),l.pb(11,49152,null,0,u.C,[l.h,l.k,l.x],{name:[0,"name"],size:[1,"size"]},null),(n()(),l.Jb(-1,0,[" \u4fdd\u5b58 "]))],(function(n,t){n(t,6,0,"medium"),n(t,9,0,"primary","ios","default"),n(t,11,0,"share-social","small")}),(function(n,t){n(t,2,0,t.context.$implicit.title),n(t,3,0,t.context.$implicit.cover_img),n(t,7,0,t.context.$implicit.create_time)}))}function _(n){return l.Lb(0,[l.Hb(402653184,1,{ionHeader:0}),l.Hb(402653184,2,{ionContent:0}),l.Hb(402653184,3,{hideInput:0}),l.Hb(402653184,4,{ionInfiniteScroll:0}),(n()(),l.qb(4,0,null,null,11,"ion-header",[["mode","ios"]],null,null,null,r.nb,r.q)),l.pb(5,49152,[[1,4],["header",4]],0,u.B,[l.h,l.k,l.x],{mode:[0,"mode"]},null),(n()(),l.qb(6,0,null,0,9,"ion-toolbar",[["mode","ios"]],null,null,null,r.Tb,r.W)),l.pb(7,49152,null,0,u.zb,[l.h,l.k,l.x],{mode:[0,"mode"]},null),(n()(),l.qb(8,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,r.cb,r.f)),l.pb(9,49152,null,0,u.l,[l.h,l.k,l.x],null,null),(n()(),l.qb(10,0,null,0,2,"ion-back-button",[["defaultHref","/home/index"],["text","\u8fd4\u56de"]],null,[[null,"click"]],(function(n,t,e){var o=!0;return"click"===t&&(o=!1!==l.Bb(n,12).onClick(e)&&o),o}),r.Z,r.c)),l.pb(11,49152,null,0,u.g,[l.h,l.k,l.x],{defaultHref:[0,"defaultHref"],text:[1,"text"]},null),l.pb(12,16384,null,0,u.h,[[2,u.fb],u.Fb,u.d],{defaultHref:[0,"defaultHref"]},null),(n()(),l.qb(13,0,null,0,2,"ion-title",[],null,null,null,r.Sb,r.V)),l.pb(14,49152,null,0,u.xb,[l.h,l.k,l.x],null,null),(n()(),l.Jb(-1,0,[" \u6d77\u62a5 "])),(n()(),l.qb(16,0,null,null,18,"ion-content",[],null,[[null,"ionScroll"]],(function(n,t,e){var l=!0;return"ionScroll"===t&&(l=0!=(n.component.scrollToTopFlag=e.detail.currentY>450)&&l),l}),r.ib,r.l)),l.pb(17,49152,[[2,4]],0,u.u,[l.h,l.k,l.x],{scrollEvents:[0,"scrollEvents"]},null),(n()(),l.fb(16777216,null,0,1,null,C)),l.pb(19,16384,null,0,a.j,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(n()(),l.fb(16777216,null,0,1,null,P)),l.pb(21,278528,null,0,a.i,[l.M,l.J,l.q],{ngForOf:[0,"ngForOf"]},null),(n()(),l.qb(22,0,null,0,8,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,r.lb,r.n)),l.Gb(512,null,a.r,a.s,[l.q,l.r,l.k,l.B]),l.pb(24,278528,null,0,a.h,[a.r],{ngClass:[0,"ngClass"]},null),l.Eb(25,{active:0}),l.pb(26,49152,null,0,u.w,[l.h,l.k,l.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),l.qb(27,0,null,0,3,"ion-fab-button",[["color","medium"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.ionContent.scrollToTop(400)&&l),l}),r.kb,r.o)),l.pb(28,49152,null,0,u.x,[l.h,l.k,l.x],{color:[0,"color"]},null),(n()(),l.qb(29,0,null,0,1,"ion-icon",[["name","arrow-up-outline"]],null,null,null,r.ob,r.r)),l.pb(30,49152,null,0,u.C,[l.h,l.k,l.x],{name:[0,"name"]},null),(n()(),l.qb(31,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(n,t,e){var l=!0;return"ionInfinite"===t&&(l=!1!==n.component.loadMore()&&l),l}),r.rb,r.t)),l.pb(32,49152,[[4,4]],0,u.E,[l.h,l.k,l.x],{threshold:[0,"threshold"]},null),(n()(),l.qb(33,0,null,0,1,"ion-infinite-scroll-content",[["loadingText","\u52a0\u8f7d\u66f4\u591a..."]],null,null,null,r.qb,r.u)),l.pb(34,49152,null,0,u.F,[l.h,l.k,l.x],{loadingText:[0,"loadingText"]},null),(n()(),l.qb(35,0,[[3,0],["hideInput",1]],null,0,"input",[["id","hide-input"],["readonly",""]],null,null,null,null,null))],(function(n,t){var e=t.component;n(t,5,0,"ios"),n(t,7,0,"ios"),n(t,11,0,"/home/index","\u8fd4\u56de"),n(t,12,0,"/home/index"),n(t,17,0,!0),n(t,19,0,e.category.data&&e.category.data.length>0),n(t,21,0,e.data);var l=n(t,25,0,e.scrollToTopFlag);n(t,24,0,l),n(t,26,0,"end","bottom"),n(t,28,0,"medium"),n(t,30,0,"arrow-up-outline"),n(t,32,0,"100px"),n(t,34,0,"\u52a0\u8f7d\u66f4\u591a...")}),null)}var y=l.mb("app-poster",m,(function(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,2,"app-poster",[],null,null,null,_,x)),l.Gb(512,null,f,f,[s.a,c.c,u.a]),l.pb(2,114688,null,0,m,[f,u.Cb,b.a,u.Nb,d.a],null,null)],(function(n,t){n(t,2,0)}),null)}),{},{},[]),k=e("pwXF"),w=e("l0Bj"),M=e("ADsi");e.d(t,"PosterModuleNgFactory",(function(){return O}));var O=l.nb(o,[],(function(n){return l.yb([l.zb(512,l.j,l.X,[[8,[i.a,y]],[3,l.j],l.v]),l.zb(4608,a.l,a.k,[l.s,[2,a.w]]),l.zb(4608,k.m,k.m,[]),l.zb(4608,u.b,u.b,[l.x,l.g]),l.zb(4608,u.Eb,u.Eb,[u.b,l.j,l.p]),l.zb(4608,u.Ib,u.Ib,[u.b,l.j,l.p]),l.zb(1073742336,a.b,a.b,[]),l.zb(1073742336,k.l,k.l,[]),l.zb(1073742336,k.b,k.b,[]),l.zb(1073742336,u.Bb,u.Bb,[]),l.zb(1073742336,w.r,w.r,[[2,w.w],[2,w.n]]),l.zb(1073742336,M.a,M.a,[]),l.zb(1073742336,o,o,[]),l.zb(1024,w.l,(function(){return[[{path:"",component:m}]]}),[])])}))}}]);