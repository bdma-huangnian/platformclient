(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{wC3Z:function(l,n,e){"use strict";e.r(n);var t=e("LY6o");class i{}var o=e("pMnS"),u=e("MKJQ"),a=e("ysn3"),r=e("pwXF"),s=e("2jpv"),c=e("b16g"),d=e("DCY/"),b=e("kGhL"),h=e("KAEX"),m=e("LoWC");class p{constructor(l){this.request=l}getCommissionData(l,n,e=1){return new Promise((t,i)=>{this.request.get(d.b.getCommissionData,{startTime:l,endTime:n,p:e.toString(),pageSize:"20"}).pipe(Object(b.a)(l=>(1!==l.status&&i(l.info),1===l.status)),Object(h.a)(l=>l.data),Object(m.a)(1)).subscribe(l=>{t(l)})})}}var g=e("/WN3"),f=e("PmuI");const x=new Date;class v{constructor(l,n,e,t,i){this.alertController=l,this.formatDateService=n,this.loadingController=e,this.commissionService=t,this.active=i,this.today=this.formatDateService.formatDate(x,"YYYY-MM-DD"),this.filter={startTime:this.formatDateService.formatDate((new Date).setDate(1),"YYYY-MM-DD"),endTime:this.formatDateService.formatDate(x,"YYYY-MM-DD")},this.allCash="0",this.data=[],this.currentPage=1}ngOnInit(){this.active.queryParamMap.subscribe(l=>{this.title=l.get("title")})}ionViewDidEnter(){return g.__awaiter(this,void 0,void 0,(function*(){const l=yield this.loadingController.create();l.present(),this.commissionService.getCommissionData(this.filter.startTime,this.filter.endTime).then(({allMoney:n,commissionLog:e})=>{l.dismiss(),this.allCash=n,this.data=e||[],this.ionInfiniteScroll.disabled=e.length<20}).catch(n=>{l.dismiss(),this.errorAlert(n)})}))}refresh(l){this.currentPage=1,this.ionInfiniteScroll.disabled=!1,this.commissionService.getCommissionData(this.filter.startTime,this.filter.endTime).then(({allMoney:n,commissionLog:e})=>{l.target.complete(),this.allCash=n,this.data=e||[],this.ionInfiniteScroll.disabled=e.length<20}).catch(n=>{l.target.complete(),this.errorAlert(n)})}dateValueChange(l,n){return g.__awaiter(this,void 0,void 0,(function*(){this.ionInfiniteScroll.disabled=!1,this.currentPage=1,this.filter[n]=this.formatDateService.formatDate(l.target.value,"YYYY-MM-DD"),"startTime"===n&&this.filter.startTime>=this.filter.endTime&&(this.start.value=this.end.value=this.filter.endTime=this.filter.startTime);const e=yield this.loadingController.create();e.present(),this.commissionService.getCommissionData(this.filter.startTime,this.filter.endTime).then(({allMoney:l,commissionLog:n})=>{e.dismiss(),this.allCash=l,this.data=n||[],this.ionInfiniteScroll.disabled=n.length<20,this.ionContent.scrollToTop(0)}).catch(l=>{e.dismiss(),this.errorAlert(l)})}))}loadMore(){this.commissionService.getCommissionData(this.filter.startTime,this.filter.endTime,++this.currentPage).then(({commissionLog:l})=>{this.ionInfiniteScroll.complete(),this.data=this.data.concat(l||[]),this.ionInfiniteScroll.disabled=l.length<20}).catch(l=>{this.ionInfiniteScroll.complete(),this.errorAlert(l)})}errorAlert(l){this.alertController.create({header:l,buttons:[{text:"\u786e\u8ba4",handler(){}}]}).then(l=>{l.present(),l.onWillDismiss().then(()=>{this.ionBackButton.el.click()})})}}var C=e("l0Bj"),M=t.ob({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--border-width:0}ion-header[_ngcontent-%COMP%]   div.flex_filter-top[_ngcontent-%COMP%]{background:#fff;display:flex;border-top:2px solid #ededed;font-size:13px;align-items:center;padding:0 12px;justify-content:space-between;min-height:40px}ion-header[_ngcontent-%COMP%]   div.flex_filter-top[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{position:fixed;visibility:hidden;z-index:-10}ion-header[_ngcontent-%COMP%]   div.flex_filter-top[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;height:13px}ion-header[_ngcontent-%COMP%]   div.flex_filter-top[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:13px;height:13px;vertical-align:top}ion-header[_ngcontent-%COMP%]   .thead-line[_ngcontent-%COMP%]{background:#fff;padding:7px 0;border-top:2px solid #ededed;border-bottom:1px solid #ededed;display:flex}ion-header[_ngcontent-%COMP%]   .thead-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;border-right:2px solid #ededed;font-size:13px;padding:3px 0}ion-header[_ngcontent-%COMP%]   .thead-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{border:0}ion-content[_ngcontent-%COMP%]   .tbody-line[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #ededed}ion-content[_ngcontent-%COMP%]   .tbody-line[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;display:flex;font-size:13px;padding:15px 0;align-items:center;justify-content:center}ion-content[_ngcontent-%COMP%]   .tbody-line.gray[_ngcontent-%COMP%]{color:#c3c3c3}"]],data:{}});function T(l){return t.Lb(0,[(l()(),t.qb(0,0,null,null,10,"div",[["class","tbody-line"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,1,"div",[["align","center"]],null,null,null,null,null)),(l()(),t.Jb(2,null,["",""])),(l()(),t.qb(3,0,null,null,1,"div",[["align","center"]],null,null,null,null,null)),(l()(),t.Jb(4,null,["",""])),(l()(),t.qb(5,0,null,null,1,"div",[["align","center"]],null,null,null,null,null)),(l()(),t.Jb(6,null,["",""])),(l()(),t.qb(7,0,null,null,3,"div",[["align","center"]],null,null,null,null,null)),(l()(),t.qb(8,0,null,null,2,"ion-text",[["color","danger"]],null,null,null,u.Pb,u.S)),t.pb(9,49152,null,0,a.ub,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Jb(10,0,[" "," "]))],(function(l,n){l(n,9,0,"danger")}),(function(l,n){l(n,2,0,n.context.$implicit.dealer_name),l(n,4,0,n.context.$implicit.create_time),l(n,6,0,n.context.$implicit.order_cash),l(n,10,0,n.context.$implicit.cash)}))}function _(l){return t.Lb(0,[(l()(),t.qb(0,0,null,null,5,"div",[["class","no_data"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,2,"ion-thumbnail",[],null,null,null,u.Rb,u.U)),t.pb(2,49152,null,0,a.wb,[t.h,t.k,t.x],null,null),(l()(),t.qb(3,0,null,0,0,"img",[["src","http://fxkj-dinghuo.oss-cn-hangzhou.aliyuncs.com/agentpath/Uploads/Picture/2020-09-19/5f65903d25e0b.png"]],null,null,null,null,null)),(l()(),t.qb(4,0,null,null,1,"p",[["align","center"],["class","label"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["\u6682\u65e0\u6570\u636e"]))],null,null)}function k(l){return t.Lb(0,[t.Hb(402653184,1,{ionInfiniteScroll:0}),t.Hb(402653184,2,{ionBackButton:0}),t.Hb(402653184,3,{ionContent:0}),t.Hb(402653184,4,{start:0}),t.Hb(402653184,5,{end:0}),(l()(),t.qb(5,0,null,null,46,"ion-header",[["mode","ios"]],null,null,null,u.nb,u.q)),t.pb(6,49152,null,0,a.B,[t.h,t.k,t.x],{mode:[0,"mode"]},null),(l()(),t.qb(7,0,null,0,9,"ion-toolbar",[["mode","ios"]],null,null,null,u.Tb,u.W)),t.pb(8,49152,null,0,a.zb,[t.h,t.k,t.x],{mode:[0,"mode"]},null),(l()(),t.qb(9,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,u.cb,u.f)),t.pb(10,49152,null,0,a.l,[t.h,t.k,t.x],null,null),(l()(),t.qb(11,0,null,0,2,"ion-back-button",[["defaultHref","/home/personal"],["text","\u4e2a\u4eba\u4e2d\u5fc3"]],null,[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==t.Bb(l,13).onClick(e)&&i),i}),u.Z,u.c)),t.pb(12,49152,[[2,4]],0,a.g,[t.h,t.k,t.x],{defaultHref:[0,"defaultHref"],text:[1,"text"]},null),t.pb(13,16384,null,0,a.h,[[2,a.fb],a.Fb,a.d],{defaultHref:[0,"defaultHref"]},null),(l()(),t.qb(14,0,null,0,2,"ion-title",[],null,null,null,u.Sb,u.V)),t.pb(15,49152,null,0,a.xb,[t.h,t.k,t.x],null,null),(l()(),t.Jb(16,0,["",""])),(l()(),t.qb(17,0,null,0,25,"div",[["class","flex_filter-top"]],null,null,null,null,null)),(l()(),t.qb(18,0,null,null,2,"ion-text",[["color","danger"]],null,null,null,u.Pb,u.S)),t.pb(19,49152,null,0,a.ub,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.Jb(20,0,[" \u603b\u91d1\u989d:"," "])),(l()(),t.qb(21,0,null,null,21,"div",[["style","white-space: nowrap; display: flex; align-items: center;"]],null,null,null,null,null)),(l()(),t.qb(22,0,null,null,5,"ion-item",[["lines","none"]],null,null,null,u.vb,u.w)),t.pb(23,49152,null,0,a.H,[t.h,t.k,t.x],{lines:[0,"lines"]},null),(l()(),t.qb(24,0,null,0,3,"ion-datetime",[["cancelText","\u53d6\u6d88"],["displayFormat","YYYY-MM-DD"],["doneText","\u786e\u8ba4"]],null,[[null,"ionChange"],[null,"ionBlur"]],(function(l,n,e){var i=!0,o=l.component;return"ionBlur"===n&&(i=!1!==t.Bb(l,27)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==t.Bb(l,27)._handleChangeEvent(e.target)&&i),"ionChange"===n&&(i=!1!==o.dateValueChange(e,"startTime")&&i),i}),u.jb,u.m)),t.Gb(5120,null,r.e,(function(l){return[l]}),[a.Lb]),t.pb(26,49152,[[4,4],["startTime",4]],0,a.v,[t.h,t.k,t.x],{cancelText:[0,"cancelText"],displayFormat:[1,"displayFormat"],doneText:[2,"doneText"],max:[3,"max"],value:[4,"value"]},null),t.pb(27,4341760,null,0,a.Lb,[t.p,t.k],null,null),(l()(),t.qb(28,0,null,null,3,"span",[["class","link"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.start.el.click()&&t),t}),null,null)),(l()(),t.Jb(29,null,[""," "])),(l()(),t.qb(30,0,null,null,1,"ion-icon",[["class","ion-no-margin"],["color","medium"],["name","chevron-down-outline"],["slot","end"]],null,null,null,u.ob,u.r)),t.pb(31,49152,null,0,a.C,[t.h,t.k,t.x],{color:[0,"color"],name:[1,"name"]},null),(l()(),t.Jb(-1,null,[" \u81f3 "])),(l()(),t.qb(33,0,null,null,3,"span",[["class","link"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.end.el.click()&&t),t}),null,null)),(l()(),t.Jb(34,null,[""," "])),(l()(),t.qb(35,0,null,null,1,"ion-icon",[["class","ion-no-margin"],["color","medium"],["name","chevron-down-outline"],["slot","end"]],null,null,null,u.ob,u.r)),t.pb(36,49152,null,0,a.C,[t.h,t.k,t.x],{color:[0,"color"],name:[1,"name"]},null),(l()(),t.qb(37,0,null,null,5,"ion-item",[["class","link"],["lines","none"]],null,null,null,u.vb,u.w)),t.pb(38,49152,null,0,a.H,[t.h,t.k,t.x],{lines:[0,"lines"]},null),(l()(),t.qb(39,0,null,0,3,"ion-datetime",[["cancelText","\u53d6\u6d88"],["displayFormat","YYYY-MM-DD"],["doneText","\u786e\u8ba4"]],null,[[null,"ionChange"],[null,"ionBlur"]],(function(l,n,e){var i=!0,o=l.component;return"ionBlur"===n&&(i=!1!==t.Bb(l,42)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==t.Bb(l,42)._handleChangeEvent(e.target)&&i),"ionChange"===n&&(i=!1!==o.dateValueChange(e,"endTime")&&i),i}),u.jb,u.m)),t.Gb(5120,null,r.e,(function(l){return[l]}),[a.Lb]),t.pb(41,49152,[[5,4],["endTime",4]],0,a.v,[t.h,t.k,t.x],{cancelText:[0,"cancelText"],displayFormat:[1,"displayFormat"],doneText:[2,"doneText"],max:[3,"max"],min:[4,"min"],value:[5,"value"]},null),t.pb(42,4341760,null,0,a.Lb,[t.p,t.k],null,null),(l()(),t.qb(43,0,null,0,8,"div",[["class","thead-line"]],null,null,null,null,null)),(l()(),t.qb(44,0,null,null,1,"div",[["align","center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["\u59d3\u540d"])),(l()(),t.qb(46,0,null,null,1,"div",[["align","center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["\u65e5\u671f"])),(l()(),t.qb(48,0,null,null,1,"div",[["align","center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["\u8ba2\u5355\u91d1\u989d"])),(l()(),t.qb(50,0,null,null,1,"div",[["align","center"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["\u5206\u4f63\u91d1\u989d"])),(l()(),t.qb(52,0,null,null,13,"ion-content",[],null,null,null,u.ib,u.l)),t.pb(53,49152,[[3,4]],0,a.u,[t.h,t.k,t.x],null,null),(l()(),t.qb(54,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,e){var t=!0;return"ionRefresh"===n&&(t=!1!==l.component.refresh(e)&&t),t}),u.Db,u.F)),t.pb(55,49152,null,0,a.ab,[t.h,t.k,t.x],null,null),(l()(),t.qb(56,0,null,0,1,"ion-refresher-content",[["pullingText","\u4e0b\u62c9\u91ca\u653e\u4ee5\u5237\u65b0"],["refreshingText","\u6b63\u5728\u5237\u65b0..."],["spinner","dots"]],null,null,null,u.Cb,u.G)),t.pb(57,49152,null,0,a.bb,[t.h,t.k,t.x],{pullingText:[0,"pullingText"],refreshingText:[1,"refreshingText"]},null),(l()(),t.fb(16777216,null,0,1,null,T)),t.pb(59,278528,null,0,s.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.fb(16777216,null,0,1,null,_)),t.pb(61,16384,null,0,s.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.qb(62,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(l,n,e){var t=!0;return"ionInfinite"===n&&(t=!1!==l.component.loadMore()&&t),t}),u.rb,u.t)),t.pb(63,49152,[[1,4]],0,a.E,[t.h,t.k,t.x],{threshold:[0,"threshold"]},null),(l()(),t.qb(64,0,null,0,1,"ion-infinite-scroll-content",[["loadingText","\u52a0\u8f7d\u66f4\u591a..."]],null,null,null,u.qb,u.u)),t.pb(65,49152,null,0,a.F,[t.h,t.k,t.x],{loadingText:[0,"loadingText"]},null)],(function(l,n){var e=n.component;l(n,6,0,"ios"),l(n,8,0,"ios"),l(n,12,0,"/home/personal","\u4e2a\u4eba\u4e2d\u5fc3"),l(n,13,0,"/home/personal"),l(n,19,0,"danger"),l(n,23,0,"none"),l(n,26,0,"\u53d6\u6d88","YYYY-MM-DD","\u786e\u8ba4",e.today,e.today),l(n,31,0,"medium","chevron-down-outline"),l(n,36,0,"medium","chevron-down-outline"),l(n,38,0,"none"),l(n,41,0,"\u53d6\u6d88","YYYY-MM-DD","\u786e\u8ba4",e.today,e.filter.startTime,e.today),l(n,57,0,"\u4e0b\u62c9\u91ca\u653e\u4ee5\u5237\u65b0","\u6b63\u5728\u5237\u65b0..."),l(n,59,0,e.data),l(n,61,0,!e.data||0===e.data.length),l(n,63,0,"100px"),l(n,65,0,"\u52a0\u8f7d\u66f4\u591a...")}),(function(l,n){var e=n.component;l(n,16,0,e.title||"\u5206\u4f63\u660e\u7ec6"),l(n,20,0,e.allCash),l(n,29,0,e.filter.startTime),l(n,34,0,e.filter.endTime)}))}function q(l){return t.Lb(0,[(l()(),t.qb(0,0,null,null,2,"app-commission",[],null,null,null,k,M)),t.Gb(512,null,p,p,[c.a]),t.pb(2,114688,null,0,v,[a.a,f.a,a.Cb,p,C.a],null,null)],(function(l,n){l(n,2,0)}),null)}var D=t.mb("app-commission",v,q,{},{},[]),P=e("ADsi");e.d(n,"CommissionModuleNgFactory",(function(){return y}));var y=t.nb(i,[],(function(l){return t.yb([t.zb(512,t.j,t.X,[[8,[o.a,D]],[3,t.j],t.v]),t.zb(4608,s.l,s.k,[t.s,[2,s.w]]),t.zb(4608,r.m,r.m,[]),t.zb(4608,a.b,a.b,[t.x,t.g]),t.zb(4608,a.Eb,a.Eb,[a.b,t.j,t.p]),t.zb(4608,a.Ib,a.Ib,[a.b,t.j,t.p]),t.zb(1073742336,s.b,s.b,[]),t.zb(1073742336,r.l,r.l,[]),t.zb(1073742336,r.b,r.b,[]),t.zb(1073742336,a.Bb,a.Bb,[]),t.zb(1073742336,C.r,C.r,[[2,C.w],[2,C.n]]),t.zb(1073742336,P.a,P.a,[]),t.zb(1073742336,i,i,[]),t.zb(1024,C.l,(function(){return[[{path:"",component:v}]]}),[])])}))}}]);