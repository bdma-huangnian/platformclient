(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{F9Mu:function(n,l,t){"use strict";t.r(l);var i=t("LY6o");class e{}var o=t("pMnS"),u=t("MKJQ"),r=t("ysn3"),a=t("l0Bj"),c=t("2jpv"),b=t("/WN3"),s=t("3JjO"),h=t("D2kv"),d=t("DCY/"),p=t("LoWC");class g{constructor(n,l,t,i,e){this.active=n,this.http=l,this.app=t,this.alertController=i,this.loadingController=e,this.data=[],this.currentPage=1,this.active.queryParamMap.subscribe(n=>{this.id=n.get("id"),this.title=n.get("title"),this.img=n.get("img")})}ngOnInit(){}ionViewDidEnter(){return b.__awaiter(this,void 0,void 0,(function*(){if(this.data.length>0)return;const n=yield this.loadingController.create();n.present(),this.getData().then(n=>{this.data=n,this.ionInfiniteScroll.disabled=n.length<10}).catch(()=>{this.ionInfiniteScroll.disabled=!0}).finally(()=>{n.dismiss()})}))}refresh(n){return b.__awaiter(this,void 0,void 0,(function*(){this.currentPage=1,this.getData().then(n=>{this.data=n,this.ionInfiniteScroll.disabled=n.length<10}).catch(()=>{this.ionInfiniteScroll.disabled=!0}).finally(()=>{n.target.complete()})}))}loadMore(){this.currentPage+=1,this.getData().then(n=>{this.data=this.data.concat(n),this.ionInfiniteScroll.disabled=n.length<10}).catch(()=>{this.ionInfiniteScroll.disabled=!0}).finally(()=>{this.ionInfiniteScroll.complete()})}getData(){return new Promise((n,l)=>{const t=new s.g({fromObject:Object.assign({},{company_id:this.app.companyId,tinyapp_id:this.app.tinyappId},{p:this.currentPage.toString(),id:this.id})});this.http.get(d.b.getThirdCategorys,{params:t}).pipe(Object(p.a)(1)).toPromise().then(t=>{1===t.status?n(t.data):(this.alert(t.info),l())})})}alert(n){this.alertController.create({header:n,buttons:[{text:"\u786e\u8ba4",role:"cancel"}]}).then(n=>{n.present()})}}var f=i.ob({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:0;border-radius:0;box-shadow:none}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{height:65vw}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}ion-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{overflow:visible;padding:0 10px;margin-top:10px}ion-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{margin:10px 0;padding:0 5px;box-shadow:0 0 10px rgba(0,0,0,.08)}ion-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:100%;height:115px}ion-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:10px 8px;line-height:26px;font-size:14px;background:#fff}"]],data:{}});function x(n){return i.Lb(0,[(n()(),i.qb(0,0,null,null,10,"ion-col",[["size","6"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==i.Bb(n,2).onClick()&&e),"click"===l&&(e=!1!==i.Bb(n,5).onClick(t)&&e),e}),u.hb,u.k)),i.pb(1,49152,null,0,r.t,[i.h,i.k,i.x],{size:[0,"size"]},null),i.pb(2,16384,null,0,a.o,[a.n,a.a,[8,null],i.B,i.k],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),i.Eb(3,{id:0}),i.Cb(4,1),i.pb(5,737280,null,0,r.Kb,[c.g,r.Fb,i.k,a.n,[2,a.o]],null,null),(n()(),i.qb(6,0,null,0,2,"ion-thumbnail",[],null,null,null,u.Rb,u.U)),i.pb(7,49152,null,0,r.wb,[i.h,i.k,i.x],null,null),(n()(),i.qb(8,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),i.qb(9,0,null,0,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),i.Jb(10,null,["",""]))],(function(n,l){n(l,1,0,"6");var t=n(l,3,0,l.context.$implicit.id),i=n(l,4,0,"/indexComponents/newsDetail");n(l,2,0,t,i),n(l,5,0)}),(function(n,l){n(l,8,0,l.context.$implicit.cover_img),n(l,10,0,l.context.$implicit.title)}))}function m(n){return i.Lb(0,[i.Hb(402653184,1,{ionInfiniteScroll:0}),(n()(),i.qb(1,0,null,null,11,"ion-header",[["mode","ios"]],null,null,null,u.nb,u.q)),i.pb(2,49152,null,0,r.B,[i.h,i.k,i.x],{mode:[0,"mode"]},null),(n()(),i.qb(3,0,null,0,9,"ion-toolbar",[["mode","ios"]],null,null,null,u.Tb,u.W)),i.pb(4,49152,null,0,r.zb,[i.h,i.k,i.x],{mode:[0,"mode"]},null),(n()(),i.qb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,u.cb,u.f)),i.pb(6,49152,null,0,r.l,[i.h,i.k,i.x],null,null),(n()(),i.qb(7,0,null,0,2,"ion-back-button",[["defaultHref","/home/index"],["text","\u8fd4\u56de"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==i.Bb(n,9).onClick(t)&&e),e}),u.Z,u.c)),i.pb(8,49152,null,0,r.g,[i.h,i.k,i.x],{defaultHref:[0,"defaultHref"],text:[1,"text"]},null),i.pb(9,16384,null,0,r.h,[[2,r.fb],r.Fb,r.d],{defaultHref:[0,"defaultHref"]},null),(n()(),i.qb(10,0,null,0,2,"ion-title",[],null,null,null,u.Sb,u.V)),i.pb(11,49152,null,0,r.xb,[i.h,i.k,i.x],null,null),(n()(),i.Jb(12,0,["",""])),(n()(),i.qb(13,0,null,null,18,"ion-content",[],null,null,null,u.ib,u.l)),i.pb(14,49152,null,0,r.u,[i.h,i.k,i.x],null,null),(n()(),i.qb(15,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(n,l,t){var i=!0;return"ionRefresh"===l&&(i=!1!==n.component.refresh(t)&&i),i}),u.Db,u.F)),i.pb(16,49152,null,0,r.ab,[i.h,i.k,i.x],null,null),(n()(),i.qb(17,0,null,0,1,"ion-refresher-content",[["pullingText","\u4e0b\u62c9\u91ca\u653e\u4ee5\u5237\u65b0"],["refreshingText","\u6b63\u5728\u5237\u65b0..."],["spinner","dots"]],null,null,null,u.Cb,u.G)),i.pb(18,49152,null,0,r.bb,[i.h,i.k,i.x],{pullingText:[0,"pullingText"],refreshingText:[1,"refreshingText"]},null),(n()(),i.qb(19,0,null,0,4,"ion-card",[["mode","ios"]],null,null,null,u.eb,u.g)),i.pb(20,49152,null,0,r.m,[i.h,i.k,i.x],{mode:[0,"mode"]},null),(n()(),i.qb(21,0,null,0,2,"ion-card-content",[["class","ion-no-padding"]],null,null,null,u.db,u.h)),i.pb(22,49152,null,0,r.n,[i.h,i.k,i.x],null,null),(n()(),i.qb(23,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),i.qb(24,0,null,0,3,"ion-row",[],null,null,null,u.Eb,u.H)),i.pb(25,49152,null,0,r.gb,[i.h,i.k,i.x],null,null),(n()(),i.fb(16777216,null,0,1,null,x)),i.pb(27,278528,null,0,c.i,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null),(n()(),i.qb(28,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(n,l,t){var i=!0;return"ionInfinite"===l&&(i=!1!==n.component.loadMore()&&i),i}),u.rb,u.t)),i.pb(29,49152,[[1,4]],0,r.E,[i.h,i.k,i.x],{threshold:[0,"threshold"]},null),(n()(),i.qb(30,0,null,0,1,"ion-infinite-scroll-content",[["loadingText","\u52a0\u8f7d\u66f4\u591a..."]],null,null,null,u.qb,u.u)),i.pb(31,49152,null,0,r.F,[i.h,i.k,i.x],{loadingText:[0,"loadingText"]},null)],(function(n,l){var t=l.component;n(l,2,0,"ios"),n(l,4,0,"ios"),n(l,8,0,"/home/index","\u8fd4\u56de"),n(l,9,0,"/home/index"),n(l,18,0,"\u4e0b\u62c9\u91ca\u653e\u4ee5\u5237\u65b0","\u6b63\u5728\u5237\u65b0..."),n(l,20,0,"ios"),n(l,27,0,t.data),n(l,29,0,"100px"),n(l,31,0,"\u52a0\u8f7d\u66f4\u591a...")}),(function(n,l){var t=l.component;n(l,12,0,t.title),n(l,23,0,t.img)}))}function C(n){return i.Lb(0,[(n()(),i.qb(0,0,null,null,1,"app-third-category",[],null,null,null,m,f)),i.pb(1,114688,null,0,g,[a.a,s.c,h.a,r.a,r.Cb],null,null)],(function(n,l){n(l,1,0)}),null)}var k=i.mb("app-third-category",g,C,{},{},[]),P=t("pwXF"),M=t("ADsi");t.d(l,"ThirdCategoryModuleNgFactory",(function(){return O}));var O=i.nb(e,[],(function(n){return i.yb([i.zb(512,i.j,i.X,[[8,[o.a,k]],[3,i.j],i.v]),i.zb(4608,c.l,c.k,[i.s,[2,c.w]]),i.zb(4608,P.m,P.m,[]),i.zb(4608,r.b,r.b,[i.x,i.g]),i.zb(4608,r.Eb,r.Eb,[r.b,i.j,i.p]),i.zb(4608,r.Ib,r.Ib,[r.b,i.j,i.p]),i.zb(1073742336,c.b,c.b,[]),i.zb(1073742336,P.l,P.l,[]),i.zb(1073742336,P.b,P.b,[]),i.zb(1073742336,r.Bb,r.Bb,[]),i.zb(1073742336,a.r,a.r,[[2,a.w],[2,a.n]]),i.zb(1073742336,M.a,M.a,[]),i.zb(1073742336,e,e,[]),i.zb(1024,a.l,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);