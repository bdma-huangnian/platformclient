(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{v289:function(n,l,t){"use strict";t.r(l);var e=t("LY6o");class o{}var i=t("pMnS"),a=t("2jpv"),u=t("MKJQ"),r=t("ysn3"),c=t("/WN3"),s=t("3JjO"),b=t("D2kv"),g=t("DCY/"),h=t("kGhL"),p=t("KAEX");class d{constructor(n,l,t,e,o){this.app=n,this.http=l,this.alertController=t,this.navController=e,this.loadingController=o,this.data=[],this.currentPage=1,this.categoryData={active:0,options:[]}}ngOnInit(){}ionViewDidEnter(){return c.__awaiter(this,void 0,void 0,(function*(){if(this.data.length>0)return;const n=yield this.loadingController.create();n.present(),this.getData(this.currentPage=1).then(n=>{this.data=n.data,this.categoryData.options=n.category||[],this.categoryData.active=0}).finally(()=>{n.dismiss()})}))}getData(n=1){return new Promise((l,t)=>{const e=new s.g({fromObject:{company_id:this.app.companyId,tinyapp_id:this.app.tinyappId,p:n.toString(),category_name:"\u4f18\u79c0\u6848\u4f8b",category_id:this.categoryData.options.length>0?this.categoryData.options[this.categoryData.active].id:""}});this.http.get(g.b.getNewsList,{params:e}).pipe(Object(h.a)(n=>(1!==n.status&&(this.errAlert(n.info),t()),1===n.status)),Object(p.a)(n=>n.data)).subscribe(n=>{l(n)})})}changeCategory(n){return c.__awaiter(this,void 0,void 0,(function*(){if(this.categoryData.active===n)return;const l=yield this.loadingController.create();l.present(),this.categoryData.active=n;const t=this.categoryElement.nativeElement,e=t.getElementsByClassName("category_item")[n];t.scrollLeft=e.offsetLeft-(t.offsetWidth/2-e.offsetWidth/2),this.getData(this.currentPage=1).then(n=>{l.dismiss(),this.data=n.data,this.ionInfiniteScroll.disabled=!this.data||this.data.length<10})}))}loadMore(){this.getData(++this.currentPage).then(n=>{this.data=this.data.concat(n.data),this.ionInfiniteScroll.disabled=n.data.length<10}).finally(()=>{this.ionInfiniteScroll.complete()})}errAlert(n){this.alertController.create({header:n,buttons:[{text:"\u786e\u8ba4",role:"cancel"}]}).then(n=>{n.present()})}navigateTo(n){Boolean(n.href_link)&&n.href_link.indexOf("http")>-1?window.open(n.href_link):Boolean(n)&&this.navController.navigateForward(["/indexComponents/newsDetail"],{queryParams:{id:n.id,title:n.title}})}}var f=e.ob({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{background:#fafaf8;text-align:center;width:100vw;overflow-x:auto;overflow-y:hidden;white-space:nowrap;padding:8px 15px}ion-header[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .category_item[_ngcontent-%COMP%]{display:inline-block;padding:10px;color:#333;transition:all .3s}ion-header[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .category_item.active[_ngcontent-%COMP%]{font-weight:700;transform:scale(1.15);transform-origin:center;color:var(--ion-color-primary)}ion-content[_ngcontent-%COMP%]{--background:#FAFAF8}ion-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{overflow:visible;padding:0 10px}ion-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{margin:10px 0;padding:0 5px;box-shadow:0 0 10px rgba(0,0,0,.08)}ion-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:100%;height:30vh}ion-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:10px 8px;line-height:26px;font-size:14px;background:#fff}"]],data:{}});function m(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,4,"div",[["class","category_item"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.changeCategory(n.context.index)&&e),e}),null,null)),e.Gb(512,null,a.r,a.s,[e.q,e.r,e.k,e.B]),e.pb(2,278528,null,0,a.h,[a.r],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Eb(3,{active:0}),(n()(),e.Jb(4,null,[" "," "]))],(function(n,l){var t=n(l,3,0,l.context.index===l.component.categoryData.active);n(l,2,0,"category_item",t)}),(function(n,l){n(l,4,0,l.context.$implicit.title)}))}function x(n){return e.Lb(0,[(n()(),e.qb(0,0,[[1,0],["category",1]],null,2,"div",[["class","category"]],null,null,null,null,null)),(n()(),e.fb(16777216,null,null,1,null,m)),e.pb(2,278528,null,0,a.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,2,0,l.component.categoryData.options)}),null)}function y(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,6,"ion-col",[["size","6"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigateTo(n.context.$implicit)&&e),e}),u.hb,u.k)),e.pb(1,49152,null,0,r.t,[e.h,e.k,e.x],{size:[0,"size"]},null),(n()(),e.qb(2,0,null,0,2,"ion-thumbnail",[],null,null,null,u.Rb,u.U)),e.pb(3,49152,null,0,r.wb,[e.h,e.k,e.x],null,null),(n()(),e.qb(4,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),e.qb(5,0,null,0,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),e.Jb(6,null,["",""]))],(function(n,l){n(l,1,0,"6")}),(function(n,l){n(l,4,0,l.context.$implicit.thumb),n(l,6,0,l.context.$implicit.title)}))}function v(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,5,"div",[["class","no_data"]],null,null,null,null,null)),(n()(),e.qb(1,0,null,null,2,"ion-thumbnail",[],null,null,null,u.Rb,u.U)),e.pb(2,49152,null,0,r.wb,[e.h,e.k,e.x],null,null),(n()(),e.qb(3,0,null,0,0,"img",[["src","http://fxkj-dinghuo.oss-cn-hangzhou.aliyuncs.com/agentpath/Uploads/Picture/2020-09-19/5f65903d25e0b.png"]],null,null,null,null,null)),(n()(),e.qb(4,0,null,null,1,"p",[["align","center"],["class","label"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["\u6682\u65e0\u6570\u636e"]))],null,null)}function _(n){return e.Lb(0,[e.Hb(671088640,1,{categoryElement:0}),e.Hb(402653184,2,{ionInfiniteScroll:0}),(n()(),e.qb(2,0,null,null,8,"ion-header",[["mode","ios"]],null,null,null,u.nb,u.q)),e.pb(3,49152,null,0,r.B,[e.h,e.k,e.x],{mode:[0,"mode"]},null),(n()(),e.qb(4,0,null,0,4,"ion-toolbar",[["mode","ios"]],null,null,null,u.Tb,u.W)),e.pb(5,49152,null,0,r.zb,[e.h,e.k,e.x],{mode:[0,"mode"]},null),(n()(),e.qb(6,0,null,0,2,"ion-title",[],null,null,null,u.Sb,u.V)),e.pb(7,49152,null,0,r.xb,[e.h,e.k,e.x],null,null),(n()(),e.Jb(-1,0,["\u4f18\u79c0\u6848\u4f8b"])),(n()(),e.fb(16777216,null,0,1,null,x)),e.pb(10,16384,null,0,a.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(11,0,null,null,11,"ion-content",[],null,null,null,u.ib,u.l)),e.pb(12,49152,null,0,r.u,[e.h,e.k,e.x],null,null),(n()(),e.qb(13,0,null,0,3,"ion-row",[],null,null,null,u.Eb,u.H)),e.pb(14,49152,null,0,r.gb,[e.h,e.k,e.x],null,null),(n()(),e.fb(16777216,null,0,1,null,y)),e.pb(16,278528,null,0,a.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(n()(),e.fb(16777216,null,0,1,null,v)),e.pb(18,16384,null,0,a.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(19,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(n,l,t){var e=!0;return"ionInfinite"===l&&(e=!1!==n.component.loadMore()&&e),e}),u.rb,u.t)),e.pb(20,49152,[[2,4]],0,r.E,[e.h,e.k,e.x],{threshold:[0,"threshold"]},null),(n()(),e.qb(21,0,null,0,1,"ion-infinite-scroll-content",[["loadingText","\u52a0\u8f7d\u66f4\u591a..."]],null,null,null,u.qb,u.u)),e.pb(22,49152,null,0,r.F,[e.h,e.k,e.x],{loadingText:[0,"loadingText"]},null)],(function(n,l){var t=l.component;n(l,3,0,"ios"),n(l,5,0,"ios"),n(l,10,0,t.categoryData.options.length>0),n(l,16,0,t.data),n(l,18,0,!t.data||0===t.data.length),n(l,20,0,"100px"),n(l,22,0,"\u52a0\u8f7d\u66f4\u591a...")}),null)}function C(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,1,"app-excellent-cases",[],null,null,null,_,f)),e.pb(1,114688,null,0,d,[b.a,s.c,r.a,r.Fb,r.Cb],null,null)],(function(n,l){n(l,1,0)}),null)}var w=e.mb("app-excellent-cases",d,C,{},{},[]),O=t("pwXF"),k=t("l0Bj"),M=t("ADsi");t.d(l,"ExcellentCasesModuleNgFactory",(function(){return P}));var P=e.nb(o,[],(function(n){return e.yb([e.zb(512,e.j,e.X,[[8,[i.a,w]],[3,e.j],e.v]),e.zb(4608,a.l,a.k,[e.s,[2,a.w]]),e.zb(4608,O.m,O.m,[]),e.zb(4608,r.b,r.b,[e.x,e.g]),e.zb(4608,r.Eb,r.Eb,[r.b,e.j,e.p]),e.zb(4608,r.Ib,r.Ib,[r.b,e.j,e.p]),e.zb(1073742336,a.b,a.b,[]),e.zb(1073742336,O.l,O.l,[]),e.zb(1073742336,O.b,O.b,[]),e.zb(1073742336,r.Bb,r.Bb,[]),e.zb(1073742336,k.r,k.r,[[2,k.w],[2,k.n]]),e.zb(1073742336,M.a,M.a,[]),e.zb(1073742336,o,o,[]),e.zb(1024,k.l,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);